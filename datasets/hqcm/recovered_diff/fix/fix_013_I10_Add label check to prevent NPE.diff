# Type: fix
# Subtype: I10
# English Summary: Add label check to prevent NPE
# Chinese Summary: 添加label检查以防止NPE
# Entry Number: 13

# === Git Diff Content ===

diff --git a/src/org/geometerplus/fbreader/formats/oeb/OEBBookReader.java b/src/org/geometerplus/fbreader/formats/oeb/OEBBookReader.java
index 3cea7fa4a..efe87e4e8 100644
--- a/src/org/geometerplus/fbreader/formats/oeb/OEBBookReader.java
+++ b/src/org/geometerplus/fbreader/formats/oeb/OEBBookReader.java
@@ -91,7 +91,8 @@ class OEBBookReader extends ZLXMLReaderAdapter implements XMLNamespace {
 				if (!navigationMap.isEmpty()) {
 					int level = 0;
 					for (NCXReader.NavPoint point : navigationMap.values()) {
-						int index = myModelReader.Model.getLabel(point.ContentHRef).ParagraphIndex;
+						final BookModel.Label label = myModelReader.Model.getLabel(point.ContentHRef);
+						int index = (label != null) ? label.ParagraphIndex : -1;
 						while (level > point.Level) {
 							myModelReader.endContentsParagraph();
 							--level;
