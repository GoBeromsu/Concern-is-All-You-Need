# Type: fix
# Subtype: I2
# English Summary: Increase the interval for sending focus requests to 1.5 seconds
# Chinese Summary: 增加对焦请求发送间隔到1.5秒
# Entry Number: 27

# === Git Diff Content ===

diff --git a/android/src/com/google/zxing/client/android/CameraManager.java b/android/src/com/google/zxing/client/android/CameraManager.java
index 01f0d34..388c936 100755
--- a/android/src/com/google/zxing/client/android/CameraManager.java
+++ b/android/src/com/google/zxing/client/android/CameraManager.java
@@ -187,8 +187,8 @@ final class CameraManager {
     public void onAutoFocus(boolean success, Camera camera) {
       if (mAutoFocusHandler != null) {
         Message message = mAutoFocusHandler.obtainMessage(mAutoFocusMessage, success);
-        // Simulate continuous autofocus by sending a focus request every second.
-        mAutoFocusHandler.sendMessageDelayed(message, 1000);
+        // Simulate continuous autofocus by sending a focus request every 1.5 seconds.
+        mAutoFocusHandler.sendMessageDelayed(message, 1500);
         mAutoFocusHandler = null;
       }
     }
diff --git a/android/src/com/google/zxing/client/android/CaptureActivity.java b/android/src/com/google/zxing/client/android/CaptureActivity.java
index 53904b6..dcb5463 100755
--- a/android/src/com/google/zxing/client/android/CaptureActivity.java
+++ b/android/src/com/google/zxing/client/android/CaptureActivity.java
@@ -178,6 +178,14 @@ public final class CaptureActivity extends Activity implements SurfaceHolder.Cal
     return true;
   }
 
+  // Don't display the share menu item if the result overlay is showing.
+  @Override
+  public boolean onPrepareOptionsMenu(Menu menu) {
+    super.onPrepareOptionsMenu(menu);
+    menu.findItem(SHARE_ID).setVisible(mLastResult == null);
+    return true;
+  }
+
   @Override
   public boolean onOptionsItemSelected(MenuItem item) {
     switch (item.getItemId()) {
