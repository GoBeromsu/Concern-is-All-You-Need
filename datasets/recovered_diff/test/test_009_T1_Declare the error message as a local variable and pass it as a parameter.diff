# Type: test
# Subtype: T1
# English Summary: Declare the error message as a local variable and pass it as a parameter
# Chinese Summary: 将失败消息声明为局部变量再作为参数
# Entry Number: 9

# === Git Diff Content ===

diff --git a/src/com/goide/runconfig/testing/GoTestConsoleProperties.java b/src/com/goide/runconfig/testing/GoTestConsoleProperties.java
index aac81a5..ae2217c 100644
--- a/src/com/goide/runconfig/testing/GoTestConsoleProperties.java
+++ b/src/com/goide/runconfig/testing/GoTestConsoleProperties.java
@@ -78,9 +78,10 @@ public class GoTestConsoleProperties extends TestConsoleProperties implements SM
           myStdOut.append(text);
         }
         else {
+          String failedMessage = ServiceMessageBuilder.testFailed(myCurrentTest).addAttribute("message", myStdOut.toString()).toString();
           myFailed = false;
           myStdOut = new StringBuilder();
-          return super.processServiceMessages(failedMessage(), outputType, visitor)
+          return super.processServiceMessages(failedMessage, outputType, visitor)
                  && super.processServiceMessages(ServiceMessageBuilder.testFinished(myCurrentTest).toString(), outputType, visitor);
         }
       }
