# Type: test
# Subtype: T1
# English Summary: Fix performance testing for job queue
# Chinese Summary: 修复工作池性能测试
# Entry Number: 10

# === Git Diff Content ===

diff --git a/src/perftest/java/com/lmax/disruptor/OnePublisherToThreeWorkerPoolThroughputTest.java b/src/perftest/java/com/lmax/disruptor/OnePublisherToThreeWorkerPoolThroughputTest.java
index 7aa1ed3..77f5fd5 100644
--- a/src/perftest/java/com/lmax/disruptor/OnePublisherToThreeWorkerPoolThroughputTest.java
+++ b/src/perftest/java/com/lmax/disruptor/OnePublisherToThreeWorkerPoolThroughputTest.java
@@ -60,16 +60,19 @@ public final class OnePublisherToThreeWorkerPoolThroughputTest
         }
     }
 
-    private final RingBuffer<ValueEvent> ringBuffer = 
-            RingBuffer.createSingleProducer(ValueEvent.EVENT_FACTORY, 
+    private final RingBuffer<ValueEvent> ringBuffer =
+            RingBuffer.createSingleProducer(ValueEvent.EVENT_FACTORY,
                                             BUFFER_SIZE,
                                             new YieldingWaitStrategy());
-    
-    private final WorkerPool<ValueEvent> workerPool = 
+
+    private final WorkerPool<ValueEvent> workerPool =
             new WorkerPool<ValueEvent>(ringBuffer,
                                        ringBuffer.newBarrier(),
                                        new FatalExceptionHandler(),
                                        handlers);
+    {
+        ringBuffer.addGatingSequences(workerPool.getWorkerSequences());
+    }
 
     ///////////////////////////////////////////////////////////////////////////////////////////////
 
