# Type: cicd
# Subtype: Cx
# English Summary: Add deployment conditions in the CICD process
# Chinese Summary: 在CICD流程中添加部署条件
# Entry Number: 22

# === Git Diff Content ===

diff --git a/cicd/config.yml b/cicd/config.yml
index e69de29..d4f8fbe 100644
--- a/cicd/config.yml    
+++ b/cicd/config.yml    
@@ -1,5 +1,6 @@
 steps:
   - checkout
+  - run: echo "Running CI"
   - parallel:
       - run: make test
       - run: make lint
@@ -8,6 +9,14 @@
   - persist_to_workspace:
       root: .
       paths: [output]
-  - deploy:
-      name: Deploy to production
-      command: ./deploy.sh
+  - when:
+      condition: << pipeline.parameters.deploy-to-prod >>
+      steps:
+        - run:
+           name: Deploy to production
+           command: ./deploy.sh
+      else:
+        steps:
+          - run: 
+             name: Skipping Production Deployment
+             command: echo "Deployment skipped. deploy-to-prod parameter was false"